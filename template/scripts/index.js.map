{"version":3,"names":[],"mappings":"","sources":["index.js"],"sourcesContent":["\"use strict\";\n\ndocument.addEventListener('DOMContentLoaded', function () {\n\t//#region Параллакс\n\tvar parallax = document.querySelector('.parallax');\n\n\tif (document.body.clientWidth > 1024) {\n\t\tif (parallax) {\n\t\t\tvar setMouseParallaxStyle = function setMouseParallaxStyle() {\n\t\t\t\tvar distX = coordXPercent - positionX;\n\t\t\t\tvar distY = coordYPercent - positionY;\n\n\t\t\t\tpositionX += distX * speed;\n\t\t\t\tpositionY += distY * speed;\n\n\t\t\t\tclouds.style.cssText = 'transform: translate(' + positionX / forClouds + '%,' + positionY / forClouds + '%);';\n\t\t\t\tocean.style.cssText = 'transform: translate(' + positionX / forOcean + '%,' + positionY / forOcean + '%);';\n\t\t\t\ticeberg.style.cssText = 'transform: translate(' + positionX / forIceberg + '%,' + positionY / forIceberg + '%);';\n\n\t\t\t\trequestAnimationFrame(setMouseParallaxStyle);\n\t\t\t};\n\n\t\t\tvar clouds = document.querySelector('.images-parallax__clouds');\n\t\t\tvar ocean = document.querySelector('.images-parallax__ocean');\n\t\t\tvar iceberg = document.querySelector('.images-parallax__iceberg');\n\n\t\t\tvar forClouds = 100;\n\t\t\tvar forOcean = -60;\n\t\t\tvar forIceberg = 70;\n\n\t\t\tvar speed = 0.04;\n\n\t\t\tvar positionX = 0;\n\t\t\tvar positionY = 0;\n\t\t\tvar coordXPercent = 0;\n\t\t\tvar coordYPercent = 0;\n\n\t\t\tsetMouseParallaxStyle();\n\n\t\t\tparallax.addEventListener('mousemove', function (e) {\n\t\t\t\tvar parallaxWidth = parallax.offsetWidth;\n\t\t\t\tvar parallaxHeight = parallax.offsetHeight;\n\n\t\t\t\tvar coordX = e.pageX - parallaxWidth / 2;\n\t\t\t\tvar coordY = e.pageY - parallaxHeight / 2;\n\n\t\t\t\tcoordXPercent = coordX / parallaxWidth * 100;\n\t\t\t\tcoordYPercent = coordY / parallaxHeight * 100;\n\t\t\t});\n\t\t}\n\t}\n\t//#endregion \n\n\t//#region Курсор\n\tif (document.body.clientWidth > 1024) {\n\t\t(function () {\n\t\t\tvar mouseCoords = function mouseCoords(e) {\n\t\t\t\tmouseX = e.pageX;\n\t\t\t\tmouseY = e.pageY;\n\t\t\t};\n\n\t\t\tvar cursor = document.getElementById('cursor'),\n\t\t\t    aura = document.getElementById('aura'),\n\t\t\t    links = document.getElementsByTagName('a'),\n\t\t\t    buttons = document.getElementsByTagName('button'),\n\t\t\t    formElements = document.querySelectorAll('.form-control'),\n\t\t\t    body = document.body;\n\n\t\t\tvar mouseX = 0,\n\t\t\t    mouseY = 0,\n\t\t\t    posX = 0,\n\t\t\t    posY = 0;\n\n\t\t\tgsap.to({}, .01, {\n\t\t\t\trepeat: -1,\n\t\t\t\tonRepeat: function onRepeat() {\n\t\t\t\t\tposX += (mouseX - posX) / 5;\n\t\t\t\t\tposY += (mouseY - posY) / 5;\n\n\t\t\t\t\tgsap.set(cursor, {\n\t\t\t\t\t\tcss: {\n\t\t\t\t\t\t\tleft: mouseX - 3,\n\t\t\t\t\t\t\ttop: mouseY - 3\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tgsap.set(aura, {\n\t\t\t\t\t\tcss: {\n\t\t\t\t\t\t\tleft: posX - 22,\n\t\t\t\t\t\t\ttop: posY - 22\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfor (var i = 0; i < links.length; i++) {\n\t\t\t\tvar link = links[i];\n\t\t\t\tlink.addEventListener('mouseover', function () {\n\t\t\t\t\tcursor.classList.add('_active');\n\t\t\t\t\taura.classList.add('_active');\n\t\t\t\t});\n\t\t\t\tlink.addEventListener('mouseout', function () {\n\t\t\t\t\tcursor.classList.remove('_active');\n\t\t\t\t\taura.classList.remove('_active');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor (var _i = 0; _i < buttons.length; _i++) {\n\t\t\t\tvar button = buttons[_i];\n\t\t\t\tbutton.addEventListener('mouseover', function () {\n\t\t\t\t\tcursor.classList.add('_active');\n\t\t\t\t\taura.classList.add('_active');\n\t\t\t\t});\n\t\t\t\tbutton.addEventListener('mouseout', function () {\n\t\t\t\t\tcursor.classList.remove('_active');\n\t\t\t\t\taura.classList.remove('_active');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor (var _i2 = 0; _i2 < formElements.length; _i2++) {\n\t\t\t\tvar formElement = formElements[_i2];\n\t\t\t\tformElement.addEventListener('mouseover', function () {\n\t\t\t\t\tcursor.classList.add('_active');\n\t\t\t\t\taura.classList.add('_active');\n\t\t\t\t});\n\t\t\t\tformElement.addEventListener('mouseout', function () {\n\t\t\t\t\tcursor.classList.remove('_active');\n\t\t\t\t\taura.classList.remove('_active');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tbody.addEventListener('mousemove', function (e) {\n\t\t\t\tmouseCoords(e);\n\t\t\t\tcursor.classList.remove('_hidden');\n\t\t\t\taura.classList.remove('_hidden');\n\t\t\t});\n\n\t\t\tbody.addEventListener('mouseout', function () {\n\t\t\t\tcursor.classList.add('_hidden');\n\t\t\t\taura.classList.add('_hidden');\n\t\t\t});\n\t\t})();\n\t}\n\t//#endregion\n\n\t//#region Шапка\n\t// Плавающая шапка\n\tvar lastScroll = 0;\n\tvar defaultOffset = 500;\n\tvar header = document.querySelector('.header');\n\n\tvar scrollPosition = function scrollPosition() {\n\t\treturn window.pageYOffset || document.documentElement.scrollTop;\n\t};\n\tvar containHide = function containHide() {\n\t\treturn header.classList.contains('_hide');\n\t};\n\twindow.addEventListener('scroll', function () {\n\t\tif (scrollPosition() > lastScroll && !containHide() && scrollPosition() > defaultOffset) {\n\t\t\theader.classList.add('_hide');\n\t\t} else if (scrollPosition() < lastScroll && containHide()) {\n\t\t\theader.classList.remove('_hide');\n\t\t}\n\t\tif (lastScroll > defaultOffset) {\n\t\t\theader.classList.add('_paint');\n\t\t} else {\n\t\t\theader.classList.remove('_paint');\n\t\t}\n\n\t\tlastScroll = scrollPosition();\n\t});\n\t//#endregion\n});"],"file":"index.js"}